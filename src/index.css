@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "DejavuSansMono";
  src: url("/fonts/DejavuSansMono.woff2") format("woff2");
  font-weight: normal;
  font-display: swap;
}

@layer base {
  body {
    @apply px-page-mobile md:px-page my-8 font-dejavu leading-relaxed;
  }
  nav {
    @apply flex justify-between my-8;
  }
  nav a {
    @apply text-nav-text hover:text-nav-text-hover;
  }
  main {
    @apply max-w-3xl;
  }
  main a {
    color: #0000ff;
    @apply underline underline-offset-4;
  }
  main h1 {
    @apply text-2xl;
  }
  main h2 {
    @apply text-lg mt-12;
  }
  main p,
  main ul,
  main ol,
  main pre {
    @apply my-8;
  }
  main ol {
    @apply list-decimal pl-6;
  }
  main ul {
    @apply list-disc pl-6;
  }
  main li {
    @apply mb-2;
  }
  main li > code,
  main p > code {
    @apply px-1.5 py-0.5 bg-rose-50/50 text-rose-600;
  }
  main pre {
    @apply py-4 w-screen text-sm md:text-base relative px-page-mobile md:px-page -ml-page-mobile md:-ml-page;
  }
}

@layer components {
  .external-link {
    @apply whitespace-nowrap;
  }

  .external-link::after {
    @apply inline-block w-4 h-4 translate-y-0.5;
    mask-image: url("/icons/external-link.svg");
    mask-size: cover;
    content: "";
  }

  nav .external-link::after {
    @apply -translate-x-1 bg-nav-text hover:bg-nav-text-hover;
  }

  main .external-link::after {
    background-color: #0000ff;
    @apply translate-x-1;
  }
}

.astro-code,
.astro-code span {
  @apply !bg-stone-50;
}

::selection {
  @apply bg-stone-200;
}
